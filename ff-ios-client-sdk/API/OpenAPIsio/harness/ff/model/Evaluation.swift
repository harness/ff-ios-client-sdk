//
// Evaluation.swift
//
// Generated by openapi-generator
// https://openapi-generator.tech
//

import Foundation
public enum ValueType: Codable, Equatable {
	public typealias Value = [String: ValueType]
	case bool(Bool)
	case string(String)
	case int(Int)
	case object(Value)
	case unsupported
	
	public init(from decoder: Decoder) throws {
		let singleValueContainer = try decoder.singleValueContainer()
		if let value = try? singleValueContainer.decode(Bool.self) {
			self = .bool(value)
			return
		} else if let value = try? singleValueContainer.decode(String.self) {
			self = .string(value)
			return
		} else if let value = try? singleValueContainer.decode(Int.self) {
			self = .int(value)
			return
		}else if let value = try? singleValueContainer.decode(Value.self) {
			self = .object(value)
			return
		} else if singleValueContainer.decodeNil(){
			self = .unsupported
			return
		}
		throw CFError.parsingError
	}
	
	public func encode(to encoder: Encoder) throws {
		var container = encoder.singleValueContainer()
		switch self {
			case .bool(let boolVal): try container.encode(boolVal)
			case .string(let stringVal): try container.encode(stringVal)
			case .int(let intVal): try container.encode(intVal)
			case .object(let objectVal): try container.encode(objectVal)
			case .unsupported: try container.encodeNil()
		}
	}
	
	public var boolValue: Bool? {
		switch self {
			case .bool(let boolVal): return boolVal
			default: return nil
		}
	}
	
	public var intValue: Int? {
		switch self {
			case .int(let intVal): return intVal
			default: return nil
		}
	}
	
	public var stringValue: String? {
		switch self {
			case .string(let stringVal): return stringVal
			default: return nil
		}
	}
	
	public var objectValue: Value? {
		switch self {
			case .object(let objectVal): return objectVal
			default: return nil
			}
		}
}
public struct Evaluation: Codable {
    public var flag: String
    public var value: ValueType

    public init(flag: String, value: ValueType) {
        self.flag = flag
        self.value = value
    }
}
